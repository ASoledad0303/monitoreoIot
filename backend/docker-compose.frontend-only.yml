# Docker Compose solo para el frontend (si quieres ejecutar solo el frontend en Docker)
# Útil para desarrollo cuando el backend está corriendo localmente
version: "3.9"

services:
  frontend:
    build:
      context: ..
      dockerfile: Dockerfile
      args:
        NEXT_PUBLIC_FLASK_API_URL: ${NEXT_PUBLIC_FLASK_API_URL:-http://host.docker.internal:5000}
        NEXT_PUBLIC_WS_URL: ${NEXT_PUBLIC_WS_URL:-ws://host.docker.internal:5000/ws}
    container_name: iot-frontend
    environment:
      PORT: ${FRONTEND_PORT:-3000}
      NODE_ENV: production
    ports:
      - "${FRONTEND_PORT:-3000}:3000"
    extra_hosts:
      - "host.docker.internal:host-gateway"
    restart: unless-stopped
